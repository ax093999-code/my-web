<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Ahmed Fayez's professional graphic design portfolio showcasing creative 3D interactive designs for advertising, logos, YouTube thumbnails, and web design." />
<meta name="keywords" content="Graphic Design, Portfolio, 3D, Three.js, Creative, UI/UX, Branding, Advertising, Logos, YouTube Thumbnails, Web Design, Ahmed Fayez" />
<meta name="author" content="Ahmed Fayez" />
<title>Ahmed Fayez Portfolio</title>
<style>
  /* Reset and base */
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  }
  html, body {
    height: 100%;
    font-family: 'Poppins', sans-serif;
    background-color: #0a0f1a;
    color: #eee;
    scroll-behavior: smooth;
    overflow-x: hidden;
  }
  a {
    color: #61dafb;
    text-decoration: none;
  }
  a:focus, button:focus, input:focus, select:focus, textarea:focus {
    outline: 2px solid #61dafb;
    outline-offset: 2px;
  }
  /* Google Fonts import */
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap');

  /* Navigation */
  nav {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 60px;
    background: rgba(10,15,26,0.85);
    backdrop-filter: saturate(180%) blur(10px);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 1.5rem;
    z-index: 1000;
  }
  nav .logo {
    font-weight: 600;
    font-size: 1.25rem;
    letter-spacing: 2px;
    user-select: none;
  }
  nav ul {
    list-style: none;
    display: flex;
    gap: 1.5rem;
  }
  nav ul li {
    position: relative;
  }
  nav ul li a {
    font-weight: 600;
    font-size: 1rem;
    cursor: pointer;
    transition: color 0.3s ease;
  }
  nav ul li a:hover,
  nav ul li a:focus {
    color: #61dafb;
  }
  /* Hamburger menu */
  .hamburger {
    display: none;
    flex-direction: column;
    cursor: pointer;
    width: 24px;
    height: 18px;
    justify-content: space-between;
  }
  .hamburger span {
    display: block;
    height: 3px;
    background: #61dafb;
    border-radius: 2px;
  }
  /* Mobile menu */
  @media (max-width: 768px) {
    nav ul {
      position: fixed;
      top: 60px;
      right: 0;
      background: rgba(10,15,26,0.95);
      height: calc(100vh - 60px);
      width: 200px;
      flex-direction: column;
      padding: 1rem;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      box-shadow: -2px 0 8px rgba(0,0,0,0.7);
    }
    nav ul.open {
      transform: translateX(0);
    }
    .hamburger {
      display: flex;
    }
  }

  /* Sections */
  section {
    min-height: 100vh;
    padding: 80px 2rem 2rem 2rem;
    scroll-margin-top: 60px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h1, h2, h3 {
    font-weight: 600;
    margin-bottom: 1rem;
  }
  h1 {
    font-size: 2.5rem;
    text-align: center;
  }
  h2 {
    font-size: 2rem;
    margin-bottom: 2rem;
  }
  p {
    font-weight: 300;
    max-width: 600px;
    text-align: center;
    margin-bottom: 2rem;
    line-height: 1.5;
  }
  button.cta {
    background-color: #61dafb;
    border: none;
    color: #0a0f1a;
    font-weight: 600;
    padding: 0.75rem 1.5rem;
    border-radius: 30px;
    cursor: pointer;
    font-size: 1.1rem;
    transition: background-color 0.3s ease;
  }
  button.cta:hover,
  button.cta:focus {
    background-color: #21a1f1;
  }

  /* Portfolio grid */
  .portfolio-filters {
    margin-bottom: 1rem;
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    justify-content: center;
  }
  .portfolio-filters button {
    background: transparent;
    border: 2px solid #61dafb;
    color: #61dafb;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    cursor: pointer;
    font-weight: 600;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  .portfolio-filters button.active,
  .portfolio-filters button:hover,
  .portfolio-filters button:focus {
    background-color: #61dafb;
    color: #0a0f1a;
  }
  .portfolio-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
    gap: 1.5rem;
    width: 100%;
    max-width: 1200px;
  }
  .portfolio-card {
    perspective: 1000px;
    cursor: pointer;
  }
  .portfolio-card-inner {
    position: relative;
    width: 100%;
    height: 320px;
    transition: transform 0.6s;
    transform-style: preserve-3d;
    border-radius: 12px;
    box-shadow: 0 0 15px rgba(97,218,251,0.3);
  }
  .portfolio-card:hover .portfolio-card-inner,
  .portfolio-card:focus-within .portfolio-card-inner {
    transform: rotateY(180deg) rotateX(5deg);
  }
  .portfolio-card-front,
  .portfolio-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    backface-visibility: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 1rem;
  }
  .portfolio-card-front {
    background: linear-gradient(135deg, #1a1f36, #0a0f1a);
    color: #61dafb;
    font-weight: 600;
    font-size: 1.1rem;
    align-items: center;
    text-align: center;
  }
  .portfolio-card-front img { /* Added style for images */
    width: 100%;
    height: 180px;
    object-fit: cover; /* Ensures image covers the area */
    margin-bottom: 1rem;
    border-radius: 8px;
  }
  .portfolio-card-front svg { /* Kept for fallback/placeholder if no image */
    width: 100%;
    height: 180px;
    margin-bottom: 1rem;
    border-radius: 8px;
  }
  .portfolio-card-back {
    background: #121827;
    color: #eee;
    transform: rotateY(180deg);
    font-weight: 300;
    font-size: 0.9rem;
    overflow-y: auto;
  }
  .portfolio-card-back h3 {
    margin-bottom: 0.5rem;
    color: #61dafb;
  }
  .portfolio-card-back p {
    margin-bottom: 0.5rem;
  }
  .portfolio-card-back ul {
    list-style: none;
    padding-left: 1rem;
  }
  .portfolio-card-back ul li {
    margin-bottom: 0.25rem;
  }

  /* About timeline */
  .timeline-container {
    position: relative;
    width: 100%;
    max-width: 900px;
    padding: 2rem 1rem;
  }
  .timeline-line {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 50%;
    width: 4px;
    background: #61dafb;
    transform: translateX(-50%);
    border-radius: 2px;
  }
  .timeline-item {
    position: relative;
    width: 50%;
    padding: 1rem 2rem;
    box-sizing: border-box;
  }
  .timeline-item.left {
    left: 0;
    text-align: right;
  }
  .timeline-item.right {
    left: 50%;
    text-align: left;
  }
  .timeline-item .circle {
    position: absolute;
    top: 1.5rem;
    width: 20px;
    height: 20px;
    background: #61dafb;
    border-radius: 50%;
    border: 3px solid #0a0f1a;
  }
  .timeline-item.left .circle {
    right: -12px;
  }
  .timeline-item.right .circle {
    left: -12px;
  }
  .timeline-item h3 {
    margin-bottom: 0.25rem;
  }
  .timeline-item p {
    font-weight: 300;
    font-size: 0.9rem;
  }

  /* Skills bars */
  .skills-container {
    max-width: 700px;
    width: 100%;
    margin-top: 2rem;
  }
  .skill {
    margin-bottom: 1rem;
  }
  .skill-name {
    font-weight: 600;
    margin-bottom: 0.25rem;
  }
  .skill-bar {
    background: #1a1f36;
    border-radius: 10px;
    overflow: hidden;
    height: 20px;
  }
  .skill-bar-fill {
    height: 100%;
    background: #61dafb;
    width: 0;
    border-radius: 10px;
    transition: width 2s ease;
  }

  /* Services 3D stacks container */
  .services-container {
    display: flex;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;
    max-width: 900px;
    width: 100%;
  }
  .service-stack {
    width: 180px;
    height: 180px;
    perspective: 800px;
    cursor: pointer;
  }
  .service-stack-inner {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #1a1f36, #0a0f1a);
    border-radius: 12px;
    box-shadow: 0 0 15px rgba(97,218,251,0.3);
    transform-style: preserve-3d;
    transition: transform 0.6s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #61dafb;
    font-weight: 600;
    font-size: 1.1rem;
    padding: 1rem;
    text-align: center;
  }
  .service-stack:hover .service-stack-inner,
  .service-stack:focus-within .service-stack-inner {
    transform: rotateX(20deg) rotateY(20deg);
  }
  .service-description {
    margin-top: 1rem;
    font-weight: 300;
    font-size: 0.9rem;
    color: #eee;
    display: none;
  }
  .service-stack:hover .service-description,
  .service-stack:focus-within .service-description {
    display: block;
  }

  /* Contact form */
  .contact-form {
    max-width: 600px;
    width: 100%;
    background: #121827;
    padding: 2rem;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(97,218,251,0.4);
  }
  .contact-form label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
  }
  .contact-form input,
  .contact-form textarea {
    width: 100%;
    padding: 0.75rem;
    margin-bottom: 1.25rem;
    border-radius: 8px;
    border: none;
    background: #1a1f36;
    color: #eee;
    font-size: 1rem;
    font-family: 'Poppins', sans-serif;
    transition: box-shadow 0.3s ease;
  }
  .contact-form input:focus,
  .contact-form textarea:focus {
    box-shadow: 0 0 8px #61dafb;
    outline: none;
  }
  .contact-form button {
    background-color: #61dafb;
    border: none;
    color: #0a0f1a;
    font-weight: 600;
    padding: 0.75rem 1.5rem;
    border-radius: 30px;
    cursor: pointer;
    font-size: 1.1rem;
    transition: background-color 0.3s ease;
  }
  .contact-form button:hover,
  .contact-form button:focus {
    background-color: #21a1f1;
  }

  /* Testimonials carousel */
  .testimonials-container {
    max-width: 900px;
    width: 100%;
    margin-top: 2rem;
    position: relative;
    overflow: hidden;
  }
  .testimonial-slide {
    min-width: 100%;
    transition: transform 0.5s ease;
    padding: 1rem 2rem;
    box-sizing: border-box;
    color: #eee;
    font-style: italic;
    font-weight: 300;
  }
  .testimonial-author {
    margin-top: 1rem;
    font-weight: 600;
    text-align: right;
    color: #61dafb;
  }
  .testimonial-controls {
    position: absolute;
    bottom: 10px;
    right: 10px;
    display: flex;
    gap: 0.5rem;
  }
  .testimonial-controls button {
    background: #61dafb;
    border: none;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    cursor: pointer;
    opacity: 0.5;
    transition: opacity 0.3s ease;
  }
  .testimonial-controls button.active,
  .testimonial-controls button:hover,
  .testimonial-controls button:focus {
    opacity: 1;
  }

  /* Scrollbar for portfolio card back */
  .portfolio-card-back::-webkit-scrollbar {
    width: 6px;
  }
  .portfolio-card-back::-webkit-scrollbar-thumb {
    background: #61dafb;
    border-radius: 3px;
  }

  /* 3D canvas containers */
  #background-3d,
  #hero-logo,
  #about-timeline-3d,
  #services-3d,
  #contact-map-3d {
    width: 100%;
    height: 300px;
    max-width: 1200px;
    margin: 1rem auto 2rem auto;
    display: block;
  }
  #hero-logo {
    height: 320px;
  }
  #about-timeline-3d {
    height: 400px;
  }
  #services-3d {
    height: 300px;
  }
  #contact-map-3d {
    height: 300px;
  }

</style>
</head>
<body>
<nav role="navigation" aria-label="Primary navigation">
  <div class="logo" tabindex="0">Ahmed Fayez</div>
  <button class="hamburger" aria-label="Toggle menu" aria-expanded="false" aria-controls="nav-menu">
    <span></span><span></span><span></span>
  </button>
  <ul id="nav-menu">
    <li><a href="#home" tabindex="0">Home</a></li>
    <li><a href="#portfolio" tabindex="0">Portfolio</a></li>
    <li><a href="#about" tabindex="0">About</a></li>
    <li><a href="#services" tabindex="0">Services</a></li>
    <li><a href="#contact" tabindex="0">Contact</a></li>
  </ul>
</nav>

<!-- Background 3D parallax -->
<canvas id="background-3d" aria-hidden="true"></canvas>

<!-- Home Section -->
<section id="home" aria-label="Home section">
  <canvas id="hero-logo" aria-label="3D animated logo" role="img"></canvas>
  <h1>Crafting Visual Stories with Ahmed Fayez</h1>
  <p>Bringing your ideas to life with innovative graphic design, specializing in advertising, logos, YouTube thumbnails, and web design.</p>
  <button class="cta" id="to-portfolio">View Portfolio</button>
</section>

<!-- Portfolio Section -->
<section id="portfolio" aria-label="Portfolio section">
  <h2>Portfolio</h2>
  <div class="portfolio-filters" role="group" aria-label="Portfolio category filters">
    <button class="active" data-filter="all" aria-pressed="true">All</button>
    <button data-filter="advertising" aria-pressed="false">Advertising</button>
    <button data-filter="logo" aria-pressed="false">Logo Design</button>
    <button data-filter="youtube" aria-pressed="false">YouTube Thumbnails</button>
    <button data-filter="web" aria-pressed="false">Web Design</button>
  </div>
  <div class="portfolio-grid" tabindex="0" aria-live="polite" aria-atomic="true">
    <!-- Portfolio cards inserted by JS -->
  </div>
</section>

<!-- About Section -->
<section id="about" aria-label="About section">
  <h2>About Ahmed Fayez</h2>
  <canvas id="about-timeline-3d" aria-label="3D timeline of journey and skills" role="img"></canvas>
  <p style="max-width: 600px; text-align: center; margin-top: 1rem;">
    **Welcome! I'm Ahmed Fayez, a passionate and innovative graphic designer dedicated to transforming ideas into captivating visual experiences. With a keen eye for detail and a commitment to creativity, I specialize in crafting compelling advertising campaigns, designing distinctive logos that tell your brand's story, producing engaging YouTube thumbnails that boost viewership, and developing intuitive, modern web designs. My journey in design is driven by a desire to help businesses and individuals stand out in a crowded digital world. Let's create something extraordinary together!**
  </p>
  <div class="skills-container" aria-label="Skills progress bars">
    <div class="skill">
      <div class="skill-name">Advertising Design</div>
      <div class="skill-bar"><div class="skill-bar-fill" data-fill="90%"></div></div>
    </div>
    <div class="skill">
      <div class="skill-name">Logo Design</div>
      <div class="skill-bar"><div class="skill-bar-fill" data-fill="85%"></div></div>
    </div>
    <div class="skill">
      <div class="skill-name">YouTube Thumbnails</div>
      <div class="skill-bar"><div class="skill-bar-fill" data-fill="88%"></div></div>
    </div>
    <div class="skill">
      <div class="skill-name">Web Design</div>
      <div class="skill-bar"><div class="skill-bar-fill" data-fill="82%"></div></div>
    </div>
  </div>
</section>

<!-- Services Section -->
<section id="services" aria-label="Services section">
  <h2>Services</h2>
  <canvas id="services-3d" aria-label="3D rotating service stacks" role="img"></canvas>
  <div class="services-container">
    <div class="service-stack" tabindex="0" aria-describedby="desc-advertising">
      <div class="service-stack-inner">Advertising Design</div>
      <div class="service-description" id="desc-advertising">Eye-catching ad creatives for various platforms to boost your campaigns.</div>
    </div>
    <div class="service-stack" tabindex="0" aria-describedby="desc-logo">
      <div class="service-stack-inner">Logo Design</div>
      <div class="service-description" id="desc-logo">Unique and memorable logos that perfectly represent your brand identity.</div>
    </div>
    <div class="service-stack" tabindex="0" aria-describedby="desc-youtube">
      <div class="service-stack-inner">YouTube Thumbnails</div>
      <div class="service-description" id="desc-youtube">Engaging thumbnails designed to increase click-through rates for your videos.</div>
    </div>
    <div class="service-stack" tabindex="0" aria-describedby="desc-web">
      <div class="service-stack-inner">Web Design</div>
      <div class="service-description" id="desc-web">Modern, responsive, and user-friendly website designs for a strong online presence.</div>
    </div>
  </div>
</section>

<!-- Contact Section -->
<section id="contact" aria-label="Contact section">
  <h2>Contact Ahmed Fayez</h2>
  <canvas id="contact-map-3d" aria-label="3D globe map visualization" role="img"></canvas>
  <form class="contact-form" aria-label="Contact form" novalidate>
    <label for="name">Name</label>
    <input type="text" id="name" name="name" required aria-required="true" />
    <label for="email">Email</label>
    <input type="email" id="email" name="email" required aria-required="true" />
    <label for="message">Message</label>
    <textarea id="message" name="message" rows="4" required aria-required="true"></textarea>
    <button type="submit">Send</button>
  </form>
</section>

<!-- Testimonials Section -->
<section id="testimonials" aria-label="Testimonials section">
  <h2>Testimonials</h2>
  <div class="testimonials-container" tabindex="0" aria-live="polite" aria-atomic="true">
    <div class="testimonial-slide" aria-hidden="false">
      <p>"Ahmed's advertising designs significantly boosted our campaign's performance. Highly recommended!"</p>
      <div class="testimonial-author">- Alex Johnson</div>
    </div>
    <div class="testimonial-slide" aria-hidden="true" style="display:none;">
      <p>"The logo Ahmed designed for us is perfect – modern, unique, and truly captures our brand."</p>
      <div class="testimonial-author">- Maria Lopez</div>
    </div>
    <div class="testimonial-slide" aria-hidden="true" style="display:none;">
      <p>"Our YouTube channel saw a huge increase in views thanks to Ahmed's amazing thumbnail designs."</p>
      <div class="testimonial-author">- David Kim</div>
    </div>
    <div class="testimonial-slide" aria-hidden="true" style="display:none;">
      <p>"Ahmed delivered a stunning and functional website design that exceeded our expectations."</p>
      <div class="testimonial-author">- Sarah Chen</div>
    </div>
  </div>
  <div class="testimonial-controls" role="tablist" aria-label="Testimonial navigation">
    <button aria-label="Show testimonial 1" class="active" role="tab" aria-selected="true" tabindex="0"></button>
    <button aria-label="Show testimonial 2" role="tab" aria-selected="false" tabindex="-1"></button>
    <button aria-label="Show testimonial 3" role="tab" aria-selected="false" tabindex="-1"></button>
    <button aria-label="Show testimonial 4" role="tab" aria-selected="false" tabindex="-1"></button>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script>
  // Navigation hamburger toggle
  const hamburger = document.querySelector('.hamburger');
  const navMenu = document.getElementById('nav-menu');
  hamburger.addEventListener('click', () => {
    const expanded = hamburger.getAttribute('aria-expanded') === 'true' || false;
    hamburger.setAttribute('aria-expanded', !expanded);
    navMenu.classList.toggle('open');
  });

  // Smooth scroll for nav links and CTA button
  document.querySelectorAll('nav a, #to-portfolio').forEach(el => {
    el.addEventListener('click', e => {
      e.preventDefault();
      const targetId = el.getAttribute('href') || '#portfolio';
      const target = document.querySelector(targetId);
      if (target) {
        target.scrollIntoView({ behavior: 'smooth' });
        if (navMenu.classList.contains('open')) {
          navMenu.classList.remove('open');
          hamburger.setAttribute('aria-expanded', false);
        }
      }
    });
  });

  // Portfolio data (placeholders)
  const portfolioItems = [
    {
      id: 1,
      category: 'advertising',
      title: 'Dynamic Social Media Ad',
      description: 'A vibrant and engaging advertisement designed for social media platforms to capture audience attention.',
      tools: ['Canva', 'Photoshop'],
      alt: 'Colorful social media advertisement with bold text and product image',
      image: 'https://via.placeholder.com/300x180/61dafb/0a0f1a?text=Ad+Design+1' // Placeholder image
    },
    {
      id: 2,
      category: 'logo',
      title: 'Modern Tech Logo',
      description: 'A sleek and minimalist logo created for a technology startup, emphasizing innovation.',
      tools: ['Canva', 'Illustrator'],
      alt: 'Abstract modern logo with geometric shapes in blue and white',
      image: 'https://via.placeholder.com/300x180/61dafb/0a0f1a?text=Logo+Design+1' // Placeholder image
    },
    {
      id: 3,
      category: 'youtube',
      title: 'Gaming Channel Thumbnail',
      description: 'An eye-catching YouTube thumbnail designed to increase click-through rates for a gaming video.',
      tools: ['Canva', 'Photoshop'],
      alt: 'Dramatic YouTube thumbnail for a gaming video with character and title',
      image: 'https://via.placeholder.com/300x180/61dafb/0a0f1a?text=YT+Thumbnail+1' // Placeholder image
    },
    {
      id: 4,
      category: 'web',
      title: 'E-commerce Website Layout',
      description: 'A clean and intuitive UI/UX design for an e-commerce platform, focusing on user experience.',
      tools: ['Figma', 'Canva'],
      alt: 'Screenshot of a responsive e-commerce website layout with product grid',
      image: 'https://via.placeholder.com/300x180/61dafb/0a0f1a?text=Web+Design+1' // Placeholder image
    },
    {
      id: 5,
      category: 'advertising',
      title: 'Promotional Banner Ad',
      description: 'A compelling banner advertisement for a promotional campaign, optimized for web display.',
      tools: ['Canva', 'Illustrator'],
      alt: 'Web banner advertisement with promotional text and graphic elements',
      image: 'https://via.placeholder.com/300x180/61dafb/0a0f1a?text=Ad+Design+2' // Placeholder image
    },
    {
      id: 6,
      category: 'logo',
      title: 'Cafe Brand Logo',
      description: 'A warm and inviting logo design for a local cafe, reflecting its cozy atmosphere.',
      tools: ['Canva', 'Illustrator'],
      alt: 'Circular logo for a cafe with coffee cup icon and vintage typography',
      image: 'https://via.placeholder.com/300x180/61dafb/0a0f1a?text=Logo+Design+2' // Placeholder image
    },
    {
      id: 7,
      category: 'youtube',
      title: 'Tutorial Video Thumbnail',
      description: 'A clear and informative thumbnail for a tutorial video, highlighting the topic and key elements.',
      tools: ['Canva', 'Photoshop'],
      alt: 'YouTube thumbnail for a tutorial video with step-by-step icons',
      image: 'https://via.placeholder.com/300x180/61dafb/0a0f1a?text=YT+Thumbnail+2' // Placeholder image
    },
    {
      id: 8,
      category: 'web',
      title: 'Portfolio Website Design',
      description: 'A sleek and professional portfolio website design, showcasing creative works effectively.',
      tools: ['Figma', 'Canva'],
      alt: 'Clean portfolio website design with image gallery and navigation',
      image: 'https://via.placeholder.com/300x180/61dafb/0a0f1a?text=Web+Design+2' // Placeholder image
    }
  ];

  // Render portfolio cards
  const portfolioGrid = document.querySelector('.portfolio-grid');
  function createPortfolioCard(item) {
    const card = document.createElement('div');
    card.className = 'portfolio-card';
    card.tabIndex = 0;
    card.setAttribute('aria-label', `${item.title} portfolio item`);

    const cardInner = document.createElement('div');
    cardInner.className = 'portfolio-card-inner';

    // Front side with image or SVG placeholder
    const front = document.createElement('div');
    front.className = 'portfolio-card-front';
    front.setAttribute('role', 'img');
    front.setAttribute('aria-label', item.alt);

    if (item.image) {
      const img = document.createElement('img');
      img.src = item.image;
      img.alt = item.alt;
      front.appendChild(img);
    } else {
      // Fallback to SVG placeholder if no image is provided
      const svgNS = "http://www.w3.org/2000/svg";
      const svg = document.createElementNS(svgNS, 'svg');
      svg.setAttribute('viewBox', '0 0 200 150');
      svg.setAttribute('aria-hidden', 'true');
      svg.style.borderRadius = '8px';

      const rect = document.createElementNS(svgNS, 'rect');
      rect.setAttribute('x', '10');
      rect.setAttribute('y', '10');
      rect.setAttribute('width', '180');
      rect.setAttribute('height', '130');
      rect.setAttribute('fill', '#1a1f36');
      svg.appendChild(rect);

      const circle = document.createElementNS(svgNS, 'circle');
      circle.setAttribute('cx', '100');
      circle.setAttribute('cy', '75');
      circle.setAttribute('r', '40');
      circle.setAttribute('fill', '#61dafb');
      circle.setAttribute('opacity', '0.6');
      svg.appendChild(circle);
      front.appendChild(svg);
    }
    
    const title = document.createElement('div');
    title.textContent = item.title;
    front.appendChild(title);

    // Back side with details
    const back = document.createElement('div');
    back.className = 'portfolio-card-back';
    back.tabIndex = 0;

    const backTitle = document.createElement('h3');
    backTitle.textContent = item.title;
    back.appendChild(backTitle);

    const desc = document.createElement('p');
    desc.textContent = item.description;
    back.appendChild(desc);

    const toolsTitle = document.createElement('p');
    toolsTitle.textContent = 'Tools Used:';
    back.appendChild(toolsTitle);

    const toolsList = document.createElement('ul');
    item.tools.forEach(tool => {
      const li = document.createElement('li');
      li.textContent = tool;
      toolsList.appendChild(li);
    });
    back.appendChild(toolsList);

    cardInner.appendChild(front);
    cardInner.appendChild(back);
    card.appendChild(cardInner);

    return card;
  }

  function renderPortfolio(filter = 'all') {
    portfolioGrid.innerHTML = '';
    const filtered = filter === 'all' ? portfolioItems : portfolioItems.filter(i => i.category === filter);
    filtered.forEach(item => {
      portfolioGrid.appendChild(createPortfolioCard(item));
    });
  }

  // Portfolio filters event
  const filterButtons = document.querySelectorAll('.portfolio-filters button');
  filterButtons.forEach(button => {
    button.addEventListener('click', () => {
      filterButtons.forEach(btn => {
        btn.classList.remove('active');
        btn.setAttribute('aria-pressed', 'false');
      });
      button.classList.add('active');
      button.setAttribute('aria-pressed', 'true');
      renderPortfolio(button.getAttribute('data-filter'));
    });
  });

  renderPortfolio();

  // Animate skill bars on scroll into view
  const skillBars = document.querySelectorAll('.skill-bar-fill');
  function animateSkills() {
    skillBars.forEach(bar => {
      const fill = bar.getAttribute('data-fill');
      bar.style.width = fill;
    });
  }
  // Trigger animation when About section is visible
  const aboutSection = document.getElementById('about');
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        animateSkills();
        observer.disconnect();
      }
    });
  }, { threshold: 0.5 });
  observer.observe(aboutSection);

  // Testimonials carousel
  const testimonialSlides = document.querySelectorAll('.testimonial-slide');
  const testimonialButtons = document.querySelectorAll('.testimonial-controls button');
  let currentTestimonial = 0;

  function showTestimonial(index) {
    testimonialSlides.forEach((slide, i) => {
      slide.style.display = i === index ? 'block' : 'none';
      slide.setAttribute('aria-hidden', i !== index);
    });
    testimonialButtons.forEach((btn, i) => {
      btn.classList.toggle('active', i === index);
      btn.setAttribute('aria-selected', i === index);
      btn.tabIndex = i === index ? 0 : -1;
    });
    currentTestimonial = index;
  }
  testimonialButtons.forEach((btn, i) => {
    btn.addEventListener('click', () => {
      showTestimonial(i);
    });
  });
  showTestimonial(0);

  // Auto-advance testimonials
  let testimonialInterval = setInterval(() => {
    currentTestimonial = (currentTestimonial + 1) % testimonialSlides.length;
    showTestimonial(currentTestimonial);
  }, 5000); // Change testimonial every 5 seconds

  // Pause auto-advance on hover/focus
  const testimonialsContainer = document.querySelector('.testimonials-container');
  testimonialsContainer.addEventListener('mouseenter', () => clearInterval(testimonialInterval));
  testimonialsContainer.addEventListener('mouseleave', () => {
    testimonialInterval = setInterval(() => {
      currentTestimonial = (currentTestimonial + 1) % testimonialSlides.length;
      showTestimonial(currentTestimonial);
    }, 5000);
  });
  testimonialsContainer.addEventListener('focusin', () => clearInterval(testimonialInterval));
  testimonialsContainer.addEventListener('focusout', () => {
    testimonialInterval = setInterval(() => {
      currentTestimonial = (currentTestimonial + 1) % testimonialSlides.length;
      showTestimonial(currentTestimonial);
    }, 5000);
  });


  // Three.js scenes setup
  // Common variables
  let renderer, scene, camera, clock;

  // Background 3D parallax with floating shapes
  (function background3D() {
    const canvas = document.getElementById('background-3d');
    renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setSize(canvas.clientWidth, canvas.clientHeight, false);
    renderer.setClearColor(0x0a0f1a, 0);

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(45, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
    camera.position.z = 50;

    // Floating geometric shapes
    const shapes = [];
    const geometryTypes = [
      new THREE.BoxGeometry(3, 3, 3),
      new THREE.ConeGeometry(2, 4, 8),
      new THREE.TorusGeometry(2, 0.5, 16, 100)
    ];
    const material = new THREE.MeshBasicMaterial({ color: 0x61dafb, wireframe: true, opacity: 0.15, transparent: true });

    for (let i = 0; i < 30; i++) {
      const geometry = geometryTypes[i % geometryTypes.length];
      const mesh = new THREE.Mesh(geometry, material.clone());
      mesh.position.set(
        (Math.random() - 0.5) * 80,
        (Math.random() - 0.5) * 40,
        (Math.random() - 0.5) * 40
      );
      mesh.rotation.set(Math.random() * Math.PI, Math.random() * Math.PI, 0);
      shapes.push(mesh);
      scene.add(mesh);
    }

    function animate() {
      requestAnimationFrame(animate);
      shapes.forEach(shape => {
        shape.rotation.x += 0.001;
        shape.rotation.y += 0.002;
      });
      renderer.render(scene, camera);
    }
    animate();

    // Parallax effect on mouse move
    window.addEventListener('mousemove', e => {
      const x = (e.clientX / window.innerWidth) * 2 - 1;
      const y = -(e.clientY / window.innerHeight) * 2 + 1;
      shapes.forEach(shape => {
        shape.position.x += x * 0.05;
        shape.position.y += y * 0.05;
      });
    });
  })();

  // Hero logo 3D animation
  (function heroLogo3D() {
    const canvas = document.getElementById('hero-logo');
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setSize(canvas.clientWidth, canvas.clientHeight, false);
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(45, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
    camera.position.z = 50;

    // Create logo from 3D shapes (cubes and cylinders)
    const logoGroup = new THREE.Group();
    const material = new THREE.MeshBasicMaterial({ color: 0x61dafb, wireframe: true });

    // Cube
    const cube = new THREE.Mesh(new THREE.BoxGeometry(10, 10, 10), material);
    cube.position.set(-15, 0, 0);
    logoGroup.add(cube);

    // Cylinder
    const cylinder = new THREE.Mesh(new THREE.CylinderGeometry(5, 5, 15, 16), material);
    cylinder.position.set(15, 0, 0);
    logoGroup.add(cylinder);

    scene.add(logoGroup);

    function animate() {
      requestAnimationFrame(animate);
      logoGroup.rotation.y += 0.01;
      cube.rotation.x += 0.005;
      cylinder.rotation.z += 0.005;
      renderer.render(scene, camera);
    }
    animate();
  })();

  // About timeline 3D (spheres and cubes connected)
  (function aboutTimeline3D() {
    const canvas = document.getElementById('about-timeline-3d');
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setSize(canvas.clientWidth, canvas.clientHeight, false);
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(45, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
    camera.position.z = 100;

    const material = new THREE.MeshBasicMaterial({ color: 0x61dafb, wireframe: true });
    const spheres = [];
    const cubes = [];

    for (let i = 0; i < 5; i++) {
      const sphere = new THREE.Mesh(new THREE.SphereGeometry(5, 16, 16), material.clone());
      sphere.position.set((i - 2) * 20, 0, 0);
      spheres.push(sphere);
      scene.add(sphere);

      const cube = new THREE.Mesh(new THREE.BoxGeometry(3, 3, 3), material.clone());
      cube.position.set((i - 2) * 20, 10, 0);
      cubes.push(cube);
      scene.add(cube);
    }

    function animate() {
      requestAnimationFrame(animate);
      spheres.forEach((sphere, i) => {
        sphere.rotation.y += 0.01;
        sphere.position.y = Math.sin(Date.now() * 0.001 + i) * 5;
      });
      cubes.forEach((cube, i) => {
        cube.rotation.x += 0.005;
        cube.position.y = Math.cos(Date.now() * 0.001 + i) * 5 + 10;
      });
      renderer.render(scene, camera);
    }
    animate();
  })();

  // Services 3D rotating stacks
  (function services3D() {
    const canvas = document.getElementById('services-3d');
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setSize(canvas.clientWidth, canvas.clientHeight, false);
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(45, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
    camera.position.z = 50;

    const material = new THREE.MeshBasicMaterial({ color: 0x61dafb, wireframe: true });
    const stacks = [];

    for (let i = 0; i < 4; i++) { // Changed to 4 stacks for 4 services
      const stack = new THREE.Group();
      for (let j = 0; j < 3; j++) {
        const box = new THREE.Mesh(new THREE.BoxGeometry(5, 5, 5), material.clone());
        box.position.set((i - 1.5) * 20, j * 6, 0); // Adjusted position for 4 stacks
        stack.add(box);
      }
      stacks.push(stack);
      scene.add(stack);
    }

    function animate() {
      requestAnimationFrame(animate);
      stacks.forEach((stack, i) => {
        stack.rotation.y += 0.01;
        stack.children.forEach((box, j) => {
          box.rotation.x += 0.005;
        });
      });
      renderer.render(scene, camera);
    }
    animate();
  })();

  // Contact map 3D globe
  (function contactMap3D() {
    const canvas = document.getElementById('contact-map-3d');
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setSize(canvas.clientWidth, canvas.clientHeight, false);
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(45, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
    camera.position.z = 50;

    const globe = new THREE.Mesh(new THREE.SphereGeometry(15, 32, 32), new THREE.MeshBasicMaterial({ color: 0x61dafb, wireframe: true }));
    scene.add(globe);

    function animate() {
      requestAnimationFrame(animate);
      globe.rotation.y += 0.005;
      renderer.render(scene, camera);
    }
    animate();
  })();

  // Contact form submit animation (simple alert for demo)
  document.querySelector('.contact-form').addEventListener('submit', e => {
    e.preventDefault();
    alert('Message sent! (Demo)');
  });

  // Resize canvases on window resize
  window.addEventListener('resize', () => {
    const canvases = ['background-3d', 'hero-logo', 'about-timeline-3d', 'services-3d', 'contact-map-3d'];
    canvases.forEach(id => {
      const canvas = document.getElementById(id);
      if (canvas) {
        canvas.width = canvas.clientWidth;
        canvas.height = canvas.clientHeight;
      }
    });
  });
</script>
</body>
</html>